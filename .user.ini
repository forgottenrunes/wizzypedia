; PHP configuration for MediaWiki on Heroku
; Prevents connection exhaustion

; Disable persistent connections
mysql.allow_persistent = Off
mysqli.allow_persistent = Off
pdo_mysql.default_socket = 

; Connection limits
mysql.max_links = 5
mysqli.max_links = 5
mysql.connect_timeout = 5
mysqli.default_socket = 
mysqli.reconnect = Off

; Resource limits
max_execution_time = 30
memory_limit = 128M

; Session handling - use files instead of database
session.save_handler = files
session.save_path = /tmp

; Garbage collection
session.gc_probability = 1
session.gc_divisor = 100
session.gc_maxlifetime = 3600

; Error reporting (for debugging)
display_errors = Off
log_errors = On
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT